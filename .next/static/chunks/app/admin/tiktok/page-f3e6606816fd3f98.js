(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2861],{2139:(e,s,t)=>{Promise.resolve().then(t.bind(t,9029))},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),i=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,a.$)(s))}},4964:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>d,j7:()=>l,tU:()=>n});var a=t(5155);t(2115);var i=t(6809),r=t(3999);function n(e){let{className:s,...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)(i.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(i.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(i.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}},5690:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(9946).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var a=t(5155);t(2115);var i=t(9708),r=t(2085),n=t(3999);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:r,asChild:c=!1,...d}=e,o=c?i.DX:"button";return(0,a.jsx)(o,{"data-slot":"button",className:(0,n.cn)(l({variant:t,size:r,className:s})),...d})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>r,aR:()=>n});var a=t(5155);t(2115);var i=t(3999);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...t})}},9026:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>l,TN:()=>d,XL:()=>c});var a=t(5155);t(2115);var i=t(2085),r=t(3999);let n=(0,i.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...i}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(n({variant:t}),s),...i})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},9029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),i=t(2115),r=t(8482),n=t(7168),l=t(4964),c=t(9026),d=t(3904),o=t(1243);let x=(0,t(9946).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);var u=t(5690);function m(){let[e,s]=(0,i.useState)("config"),[t,m]=(0,i.useState)(null),[h,g]=(0,i.useState)(null),[v,p]=(0,i.useState)(null),[j,f]=(0,i.useState)([]),[y,N]=(0,i.useState)(!0),[b,k]=(0,i.useState)(!1),[w,T]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!1),[A,F]=(0,i.useState)(!1),[E,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{B()},[]);let B=async()=>{N(!0);try{await Promise.all([V(),z(),R(),Z()])}catch(e){console.error("Error loading TikTok data:",e),_({type:"error",text:"Failed to load TikTok data"})}finally{N(!1)}},V=async()=>{try{let e=await fetch("/api/admin/tiktok/settings"),s=await e.json();s.success&&s.data&&m(s.data)}catch(e){console.error("Error loading TikTok config:",e)}},z=async()=>{try{let e=await fetch("/api/admin/tiktok/stats"),s=await e.json();s.success&&s.data&&g(s.data)}catch(e){console.error("Error loading TikTok stats:",e)}},R=async()=>{try{let e=await fetch("/api/admin/tiktok/status"),s=await e.json();s.success&&s.data&&p(s.data)}catch(e){console.error("Error loading TikTok status:",e)}},Z=async()=>{try{let e=await fetch("/api/admin/tiktok/scan-history"),s=await e.json();s.success&&s.data&&f(s.data)}catch(e){console.error("Error loading scan history:",e)}},H=async()=>{if(t){k(!0);try{let e=await fetch("/api/admin/tiktok/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();s.success?(_({type:"success",text:"TikTok configuration saved successfully"}),await B()):_({type:"error",text:s.error||"Failed to save configuration"})}catch(e){_({type:"error",text:"Failed to save configuration"})}finally{k(!1)}}},D=async()=>{T(!0);try{let e=await fetch("/api/admin/tiktok/test-connection"),s=await e.json();s.success?(_({type:"success",text:"TikTok API connection successful"}),await R()):_({type:"error",text:s.error||"Connection test failed"})}catch(e){_({type:"error",text:"Connection test failed"})}finally{T(!1)}},I=async()=>{C(!0);try{let e=await fetch("/api/admin/tiktok/scan",{method:"POST"}),s=await e.json();s.success?(_({type:"success",text:"Manual scan completed successfully"}),await B()):_({type:"error",text:s.error||"Manual scan failed"})}catch(e){_({type:"error",text:"Manual scan failed"})}finally{C(!1)}},L=async()=>{F(!0);try{let e=await fetch("/api/admin/tiktok/authenticate",{method:"POST"}),s=await e.json();s.success&&s.data?window.location.href=s.data.authUrl:_({type:"error",text:s.error||"Failed to start authentication"})}catch(e){_({type:"error",text:"Failed to start authentication"})}finally{F(!1)}},$=(e,s)=>{t&&m({...t,[e]:s})};return y?(0,a.jsx)("div",{className:"container mx-auto p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)(d.A,{className:"h-8 w-8 animate-spin"}),(0,a.jsx)("span",{className:"ml-2",children:"Loading TikTok settings..."})]})}):(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"TikTok Integration"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Configure TikTok video scanning for hotdog content discovery"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsxs)(n.$,{variant:"outline",onClick:B,disabled:y,children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2 ".concat(y?"animate-spin":"")}),"Refresh"]})})]}),E&&(0,a.jsxs)(c.Fc,{variant:"error"===E.type?"destructive":"default",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)(c.TN,{children:E.text}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>_(null),className:"absolute top-2 right-2",children:"\xd7"})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.ZB,{className:"flex items-center space-x-2",children:[(0,a.jsx)(x,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"TikTok Authentication Status"})]}),(0,a.jsxs)(r.BT,{className:"flex items-center space-x-2 mt-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null==v?void 0:v.isAuthenticated)?"bg-green-400":"bg-red-400")}),(0,a.jsx)("span",{className:(null==v?void 0:v.isAuthenticated)?"text-green-600":"text-red-600",children:(null==v?void 0:v.isAuthenticated)?"Authenticated":"Not Authenticated"})]}),(null==v?void 0:v.tokenExpiresAt)&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Token expires: ",new Date(v.tokenExpiresAt).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[!(null==v?void 0:v.isAuthenticated)&&(0,a.jsx)(n.$,{onClick:L,disabled:A,className:"bg-pink-600 hover:bg-pink-700",children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Authenticating..."]}):"Authenticate with TikTok"}),(0,a.jsx)(n.$,{variant:"outline",onClick:D,disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Test Connection"})]})]})}),(null==v?void 0:v.quota)&&(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Hourly Quota"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(v.quota.hourly.used/v.quota.hourly.limit*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm",children:[v.quota.hourly.used,"/",v.quota.hourly.limit]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:"Daily Quota"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(v.quota.daily.used/v.quota.daily.limit*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm",children:[v.quota.daily.used,"/",v.quota.daily.limit]})]})]})]})})]}),(0,a.jsxs)(l.tU,{value:e,onValueChange:s,className:"space-y-4",children:[(0,a.jsxs)(l.j7,{children:[(0,a.jsx)(l.Xi,{value:"config",children:"Configuration"}),(0,a.jsx)(l.Xi,{value:"stats",children:"Statistics"}),(0,a.jsx)(l.Xi,{value:"history",children:"Scan History"})]}),(0,a.jsx)(l.av,{value:"config",className:"space-y-4",children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Scanning Configuration"}),(0,a.jsx)(r.BT,{children:"Configure TikTok video scanning parameters"})]}),(0,a.jsx)(r.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Enable TikTok Scanning"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.isEnabled,onChange:e=>$("isEnabled",e.target.checked),className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:t.isEnabled?"Enabled":"Disabled"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Scan Interval (minutes)"}),(0,a.jsx)("input",{type:"number",min:"30",max:"1440",value:t.scanInterval,onChange:e=>$("scanInterval",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"120"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Minimum 30 minutes due to TikTok rate limits"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Max Videos Per Scan"}),(0,a.jsx)("input",{type:"number",min:"1",max:"100",value:t.maxVideosPerScan,onChange:e=>$("maxVideosPerScan",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"20"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Minimum Views"}),(0,a.jsx)("input",{type:"number",min:"0",value:t.minViews,onChange:e=>$("minViews",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"100"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Max Duration (seconds)"}),(0,a.jsx)("input",{type:"number",min:"1",max:"600",value:t.maxDuration,onChange:e=>$("maxDuration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"180"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Sort By"}),(0,a.jsxs)("select",{value:t.sortBy,onChange:e=>$("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,a.jsx)("option",{value:"relevance",children:"Relevance"}),(0,a.jsx)("option",{value:"create_time",children:"Creation Time"}),(0,a.jsx)("option",{value:"view_count",children:"View Count"})]})]})]})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{children:"Target Keywords"}),(0,a.jsx)(r.BT,{children:"Keywords to search for in TikTok videos"})]}),(0,a.jsx)(n.$,{onClick:()=>{if(!t)return;let e=prompt("Enter keyword:");e&&!t.targetKeywords.includes(e.toLowerCase())&&m({...t,targetKeywords:[...t.targetKeywords,e.toLowerCase()]})},variant:"outline",size:"sm",children:"Add Keyword"})]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.targetKeywords.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 rounded-md px-3 py-2",children:[(0,a.jsx)("span",{className:"text-sm",children:e}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{t&&m({...t,targetKeywords:t.targetKeywords.filter(s=>s!==e)})},className:"text-red-500 hover:text-red-700 h-auto p-0 ml-2",children:"\xd7"})]},e))})})]}),(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.ZB,{children:"Target Hashtags"}),(0,a.jsx)(r.BT,{children:"Hashtags to search for in TikTok videos"})]}),(0,a.jsx)(n.$,{onClick:()=>{if(!t)return;let e=prompt("Enter hashtag (without #):");e&&!t.targetHashtags.includes(e.toLowerCase())&&m({...t,targetHashtags:[...t.targetHashtags,e.toLowerCase()]})},variant:"outline",size:"sm",children:"Add Hashtag"})]})}),(0,a.jsx)(r.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.targetHashtags.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-100 rounded-md px-3 py-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:["#",e]}),(0,a.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>{t&&m({...t,targetHashtags:t.targetHashtags.filter(s=>s!==e)})},className:"text-red-500 hover:text-red-700 h-auto p-0 ml-2",children:"\xd7"})]},e))})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(n.$,{onClick:I,disabled:S||!t.isEnabled||!(null==v?void 0:v.isAuthenticated),className:"bg-pink-600 hover:bg-pink-700",children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Running Scan..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Run Manual Scan"]})}),(0,a.jsx)(n.$,{onClick:H,disabled:b,children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Configuration"})]})]})}),(0,a.jsx)(l.av,{value:"stats",children:h&&(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"TikTok Scanning Statistics"}),(0,a.jsx)(r.BT,{children:"Performance metrics and analytics"})]}),(0,a.jsx)(r.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h.totalScans}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Scans"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h.totalVideosFound}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Videos Found"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:h.totalVideosApproved}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Videos Approved"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[h.successRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:h.averageViews.toFixed(1)}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Views"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[h.averageDuration,"s"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Duration"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[h.scanFrequency,"min"]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Scan Frequency"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium",children:"Last Scan"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:h.lastScanTime?new Date(h.lastScanTime).toLocaleString():"Never"})]})})]})})]})}),(0,a.jsx)(l.av,{value:"history",children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsx)(r.ZB,{children:"Recent Scan History"}),(0,a.jsx)(r.BT,{children:"History of TikTok video scans"})]}),(0,a.jsx)(r.Wu,{children:j.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left p-2",children:"Scan ID"}),(0,a.jsx)("th",{className:"text-left p-2",children:"Time"}),(0,a.jsx)("th",{className:"text-left p-2",children:"Found"}),(0,a.jsx)("th",{className:"text-left p-2",children:"Approved"}),(0,a.jsx)("th",{className:"text-left p-2",children:"Errors"}),(0,a.jsx)("th",{className:"text-left p-2",children:"Keywords"})]})}),(0,a.jsx)("tbody",{children:j.map(e=>(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("td",{className:"p-2 font-mono text-sm",children:e.scanId.split("_").pop()}),(0,a.jsx)("td",{className:"p-2 text-sm",children:new Date(e.startTime).toLocaleString()}),(0,a.jsx)("td",{className:"p-2 text-sm",children:e.videosFound}),(0,a.jsx)("td",{className:"p-2 text-sm text-green-600",children:e.videosApproved}),(0,a.jsx)("td",{className:"p-2 text-sm text-red-600",children:e.errors.length}),(0,a.jsxs)("td",{className:"p-2 text-sm",children:[e.keywordsScanned.slice(0,3).join(", "),e.keywordsScanned.length>3&&"..."]})]},e.scanId))})]})}):(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No scan history available"})})]})})]})]})}}},e=>{e.O(0,[4250,8441,5964,7358],()=>e(e.s=2139)),_N_E=e.O()}]);